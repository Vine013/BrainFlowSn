<script src="~/lib/jquery/dist/jquery.min.js"></script>
<script src="~/lib/bootstrap/dist/js/bootstrap.bundle.min.js"></script>

@* Plugins do AdminLTE e outros *@
<script src="~/lib/admin-lte/dist/js/adminlte.min.js"></script>
<script src="~/lib/admin-lte/plugins/fontawesome-free/js/all.min.js"></script>
<script src="~/lib/admin-lte/plugins/inputmask/jquery.inputmask.min.js"></script>
<script src="~/lib/admin-lte/plugins/jquery-validation/jquery.validate.min.js"></script>
<script src="~/lib/jquery-validation-unobtrusive/jquery.validate.unobtrusive.min.js"></script>
<script src="~/lib/admin-lte/plugins/toastr/toastr.min.js"></script>

<script>
    $(document).ready(function () {
        // Funções para mostrar e esconder o loader
        function showLoader() {
            $('.loader').show();
        }

        function hideLoader() {
            $('.loader').hide();
        }

        // Loader para navegação
        $('a:not([target="_blank"]):not([href^="#"]):not([data-bs-toggle="modal"])').on('click', function () {
            showLoader();
        });

        // Loader ao enviar formulários
        $('form').on('submit', function () {
            // Apenas mostra o loader se o formulário for válido
            if ($(this).valid()) {
                showLoader();
            }
        });

        // Garante que o loader desapareça ao fechar qualquer modal
        $(document).on('hidden.bs.modal', hideLoader);

        // Loader para chamadas AJAX (adicionado ao seu código)
        $(document).ajaxStart(showLoader);
        $(document).ajaxStop(hideLoader);

        // Máscaras de input
        $('.telefone-celular').inputmask('(99) 99999-9999');
        $('.cpf').inputmask('999.999.999-99');
        $('.cep').inputmask('99999-999');
        $('.rg').inputmask('99.999.999-9');

        // Inicialização de plugins
        $('input').attr('autocomplete', 'off');
        $('[data-toggle="tooltip"]').tooltip();
        $('[data-toggle="popover"]').popover();
    });
</script>
